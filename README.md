# 曖昧テキスト検出器 - Figma プラグイン

UI デザインにおける曖昧なテキスト表現を自動検出し、OOUI（オブジェクト指向ユーザーインターフェース）の原則に基づいて具体的な置換候補を提供する Figma プラグインです。

## 機能

### 🔍 曖昧テキスト検出

- 「これ」「それ」「あれ」などの基本的な指示代名詞
- 「こちら」「そちら」「あちら」などの場所を示す指示語
- 「この」「その」「あの」などの連体詞
- 「こう」「そう」「ああ」などの方法を示す指示語
- 「こんな」「そんな」「あんな」などの種類・様子を示す指示語

### 🎯 文脈に応じた高精度な提案

- **エラー・トラブル系**: 「サポートページ」「FAQ」「お問い合わせフォーム」
- **詳細情報系**: 「記事」「ドキュメント」「レポート」「マニュアル」
- **外部リンク系**: 「公式サイト」「ホームページ」「ウェブサイト」
- **ダウンロード系**: 「ファイル」「アプリ」「ソフトウェア」「PDF」
- **登録・申込み系**: 「登録フォーム」「申込みフォーム」「アカウント作成」

### ⚡ 部分置換機能

曖昧な部分のみを具体的な表現に置き換えます。

**例:**

- 「エラーが発生しました。こちらをクリックしてください」
- ↓ 「こちら」を「サポートページ」に置換
- 「エラーが発生しました。サポートページをクリックしてください」

## インストール

### 前提条件

- Node.js (v14 以上)
- npm
- Figma Desktop 版または Web 版

### セットアップ

1. リポジトリをクローン

```bash
git clone <repository-url>
cd figma-ambiguous-text-detector
```

2. 依存関係をインストール

```bash
npm install
```

3. プラグインをビルド

```bash
npm run build
```

4. Figma でプラグインを読み込み

- Figma で `Plugins` > `Development` > `Import plugin from manifest...` を選択
- `manifest.json` ファイルを選択

## 使用方法

1. **プラグインを起動**

   - `Plugins` > `Development` > `曖昧テキスト検出器` を選択

2. **デザインをスキャン**

   - 「デザインをスキャン」ボタンをクリック
   - プラグインが Figma デザイン内のテキストを解析

3. **結果を確認**

   - 検出された曖昧なテキストが一覧表示される
   - 各項目に文脈に応じた置換候補が表示される

4. **テキストを置換**

   - 適切な置換候補をクリック
   - 曖昧な部分のみが具体的な表現に置き換わる

5. **ナビゲーション**
   - 「移動」ボタンで該当するテキストレイヤーに移動可能

## 技術仕様

### アーキテクチャ

- **メインスレッド (code.ts)**: Figma API との相互作用、テキストスキャン、データ処理
- **UI スレッド (ui.html)**: ユーザーインターフェース、結果表示、ユーザーインタラクション

### 主要コンポーネント

- **TextScanner**: Figma ドキュメントのテキストノード検出とスキャン
- **AmbiguousTextDetector**: 日本語曖昧テキストの検出エンジン
- **SuggestionGenerator**: 文脈に応じた置換候補生成システム

### 対応言語

- 日本語（ひらがな、カタカナ、漢字、混合テキスト）

## 開発

### ビルド

```bash
npm run build
```

### 開発モード（ファイル監視）

```bash
npm run watch
```

### プロジェクト構造

```
├── src/
│   ├── code.ts          # メインプラグインロジック
│   └── types.ts         # TypeScript型定義
├── ui.html              # プラグインUI
├── manifest.json        # Figmaプラグイン設定
├── package.json         # Node.js設定
└── tsconfig.json        # TypeScript設定
```

## OOUI の原則

このプラグインは、オブジェクト指向ユーザーインターフェース（OOUI）の原則に基づいて設計されています：

- **具体的なオブジェクト名詞**: 抽象的な表現を避け、ユーザーが操作・参照できる具体的なオブジェクトを提案
- **操作可能性**: ユーザーが直接操作できるオブジェクト（フォーム、ファイル、ページなど）を重視
- **文脈理解**: テキストの文脈を解析し、適切なオブジェクトを提案

## ライセンス

MIT License

## 貢献

プルリクエストやイシューの報告を歓迎します。

## 作者

[Your Name]
