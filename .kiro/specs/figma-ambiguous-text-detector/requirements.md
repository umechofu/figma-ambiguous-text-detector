# 要件定義書

## 概要

この機能は、UI デザインにおける曖昧なテキスト表現を自動検出し、OOUI（オブジェクト指向ユーザーインターフェース）の原則に基づいて具体的な置換候補を提供する Figma プラグインです。このプラグインは、「これ」「それ」「あれ」などの曖昧な表現を具体的なオブジェクト名やアクション名に置き換えることで、UI の明確化とユーザー体験の向上を図ります。

## 要件

### 要件 1

**ユーザーストーリー:** UI デザイナーとして、Figma デザイン内の曖昧なテキストをプラグインが自動検出することで、UI テキストの明確化が必要な箇所を特定したい。

#### 受け入れ基準

1. プラグインが Figma デザインをスキャンする時、「これ」「それ」「あれ」およびその他の事前定義された曖昧な表現を識別・抽出すること
2. 曖昧なテキストが検出された時、デザイン内の各曖昧な表現の位置をハイライトまたはマークすること
3. スキャンが完了した時、検出された曖昧な表現の総数を表示すること

### 要件 2

**ユーザーストーリー:** UI デザイナーとして、検出された曖昧なテキストに対して具体的な置換候補を受け取ることで、UI に適切な具体的な用語を選択したい。

#### 受け入れ基準

1. 曖昧な表現が検出された時、プラグインは文脈に関連した置換候補を生成すること
2. 候補を表示する時、「これを保存」に対して「画像を保存」「プロフィールを保存」などの複数の選択肢を提供すること
3. 文脈が判断できない時、汎用的だが具体的な代替案を提供すること

### 要件 3

**ユーザーストーリー:** UI デザイナーとして、提案された代替案で曖昧なテキストを簡単に置き換えることで、デザインの明確性を迅速に向上させたい。

#### 受け入れ基準

1. ユーザーが置換候補を選択した時、プラグインはワンクリックで Figma デザイン内の元の曖昧なテキストを置き換えること
2. 置換が実行された時、プラグインは Figma 内のテキストレイヤーを直接更新すること
3. 置換が完了した時、プラグインは曖昧なテキストリストからその項目を削除すること

### 要件 4

**ユーザーストーリー:** UI デザイナーとして、検出されたすべての曖昧なテキストとその置換候補の包括的なレポートを確認することで、テキスト改善の優先順位を決めたい。

#### 受け入れ基準

1. スキャンが完了した時、プラグインは検出されたすべての曖昧な表現のリスト表示を提供すること
2. レポートを表示する時、各項目は元のテキスト、その位置、利用可能な置換オプションを表示すること
3. レポートを確認する時、ユーザーはデザイン内の各曖昧なテキストの位置に直接移動できること

### 要件 5

**ユーザーストーリー:** 日本語で作業する UI デザイナーとして、プラグインが日本語の曖昧な表現を正確に検出することで、母国語のデザインで効果的に機能させたい。

#### 受け入れ基準

1. テキストを処理する時、プラグインは日本語の検出と処理をサポートすること
2. 日本語テキストをスキャンする時、プラグインは日本語特有の曖昧な代名詞や指示語を正しく識別すること
3. 候補を生成する時、プラグインは文法的に正しい日本語の置換テキストを提供すること

### 要件 6

**ユーザーストーリー:** Figma ユーザーとして、プラグインが Figma の Web 版とデスクトップ版の両方でシームレスに動作することで、好みのプラットフォームに関係なく使用したい。

#### 受け入れ基準

1. プラグインがインストールされた時、Figma の Web 版で正しく機能すること
2. プラグインがインストールされた時、Figma デスクトップアプリケーションで正しく機能すること
3. プラットフォーム間を切り替える時、プラグインは一貫した機能とユーザーインターフェースを維持すること

### 要件 7

**ユーザーストーリー:** UI デザイナーとして、大きなデザインをスキャンする際にプラグインが良好なパフォーマンスを発揮することで、ワークフローを遅らせたくない。

#### 受け入れ基準

1. 複数ページのデザインをスキャンする時、プラグインは合理的な時間制限内でスキャンを完了すること
2. 大量のテキストを処理する時、プラグインは Figma を応答不能にしないこと
3. プラグインを実行する時、長時間の操作に対して進捗フィードバックを提供すること
